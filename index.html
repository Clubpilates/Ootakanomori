<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ピラティスクイズ</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; margin: 20px; }
    .question { margin: 20px 0; }
    .options button { display: block; margin: 5px auto; }
    .explanation { margin: 15px; font-style: italic; color: #333; }
    .result { font-weight: bold; margin: 20px; }
    #retryBtn { display: none; margin-top: 20px; padding: 10px 20px; font-size: 16px; }
  </style>
</head>
<body>
  <h1>🎃 ピラティスクイズ 🎃</h1>
  <div id="quiz"></div>
  <div class="result" id="result"></div>
  <button id="retryBtn" onclick="retryQuiz()">もう一度チャレンジ！</button>

  <script>
    const quizData = [
      {
        question: "足首のポイントとは？",
        options: ["つま先を伸ばす", "かかとを押し出す", "足首を固定する"],
        answer: 0,
        explanation: "ポイントは「足の指でポインターのように指すからポイント」と覚える！その反対がフレックス"
      },
      {
        question: "背骨は全部で何個ある？",
        options: ["24個", "26個", "30個"],
        answer: 0,
        explanation: "頸椎7個、胸椎12個、腰椎5個の合計24個。ピラティスで扱うインナーマッスルは骨に近い筋肉のため、骨を動かすイメージが持てると体性感覚の向上します！"
      },
      {
        question: "仰向け状態で、骨盤インプリントの説明として正しいものはどれ？",
        options: ["腰を床に押し付ける", "骨盤を立てる", "背骨を丸める"],
        answer: 0,
        explanation: "骨盤の前傾後傾をスムーズに行えるようになると、ピラティス上級者感が出ます！"
      },
      {
        question: "肩甲骨の挙上（きょじょう）とは？",
        options: ["肩をすくめる動き", "肩を下げる動き", "肩を前に出す動き"],
        answer: 0,
        explanation: "肩甲骨は6つの動きがあります。挙上、下制、内転、外転、上方回旋、下方回旋。詳しくはニュースレターをCHECK!"
      },
      {
        question: "骨盤の骨の画像を見て「腸骨」はどれ？",
        options: ["上の大きな骨", "真ん中の三角の骨", "下の丸い骨"],
        answer: 0,
        explanation: "骨盤の画像で仙骨、腸骨、坐骨、尾骨、恥骨の位置を解説"
      }
    ];

    let currentQuestion = 0;
    let score = 0;

    function loadQuestion() {
      const quiz = document.getElementById("quiz");
      if (currentQuestion < quizData.length) {
        const q = quizData[currentQuestion];
        quiz.innerHTML = `
          <div class="question"><h3>Q${currentQuestion + 1}. ${q.question}</h3></div>
          <div class="options">
            ${q.options.map((opt, i) => `<button onclick="checkAnswer(${i})">${opt}</button>`).join("")}
          </div>
        `;
      } else {
        showResult();
      }
    }

    function checkAnswer(selected) {
      const q = quizData[currentQuestion];
      const quiz = document.getElementById("quiz");
      const correct = selected === q.answer;
      if (correct) score++;

      quiz.innerHTML = `
        <div class="question"><h3>Q${currentQuestion + 1}. ${q.question}</h3></div>
        <p>${correct ? "⭕ 正解！" : "❌ 不正解！"}</p>
        <p class="explanation">${q.explanation}</p>
        <button onclick="nextQuestion()">次へ</button>
      `;
    }

    function nextQuestion() {
      currentQuestion++;
      loadQuestion();
    }

    function showResult() {
      const result = document.getElementById("result");
      result.innerHTML = `あなたの正解数は ${score} / ${quizData.length} です！`;
      if (score < quizData.length) {
        document.getElementById("retryBtn").style.display = "inline-block";
      }
    }

    function retryQuiz() {
      currentQuestion = 0;
      score = 0;
      document.getElementById("result").innerHTML = "";
      document.getElementById("retryBtn").style.display = "none";
      loadQuestion();
    }

    loadQuestion();
  </script>
</body>
</html>
